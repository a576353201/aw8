<style type="text/css">

	.content {

		padding: 25px 20px;

	}



	/* 訂單詳情 */

	.order-detail .order-block {

		height: 31px;

		line-height: 31px;

		background: #e8edf0;

		border-radius: 13px;

		font-size: 14px;

		text-align: center;

		position: relative;

		margin-bottom: 50px;

	}



	.order-detail .order-block:before,

	.order-detail .order-block:after {

		content: "";

		position: absolute;

		z-index: 2;

		left: 0;

		top: 0;

		bottom: 0;

		border-radius: 13px;

		background: #18bc9c;

	}



	.order-detail .order-block:after {

		background: #4dc7af;

		z-index: 1;

	}



	.order-detail .order-block.progress-1:before {

		width: 0;

	}



	.order-detail .order-block.progress-1:after {

		width: 20%;

	}



	.order-detail .order-block.progress-2:before {

		width: 20%;

	}



	.order-detail .order-block.progress-2:after {

		width: 40%;

	}



	.order-detail .order-block.progress-3:before {

		width: 40%;

	}



	.order-detail .order-block.progress-3:after {

		width: 60%;

	}



	.order-detail .order-block.progress-4:before {

		width: 60%;

	}



	.order-detail .order-block.progress-4:after {

		width: 80%;

	}



	.order-detail .order-block.progress-5:before {

		width: 100%;

	}



	.order-detail .order-block.progress-5:after {

		width: 100%;

	}



	.order-detail .order-block.progress-5 li:nth-child(5) {

		color: #fff;

	}



	.order-detail .order-block li {

		width: 20%;

		float: left;

		list-style-type: none;

		border-radius: 13px;

		position: relative;

		z-index: 3;

	}



	.order-detail .order-block .tip {

		font-size: 12px;

		padding-top: 10px;

		color: #717171;

	}



	.order-detail .order-block.progress-1 li:nth-child(1),

	.order-detail .order-block.progress-2 li:nth-child(1),

	.order-detail .order-block.progress-3 li:nth-child(1),

	.order-detail .order-block.progress-4 li:nth-child(1),

	.order-detail .order-block.progress-5 li:nth-child(1) {

		color: #fff;

	}



	.order-detail .order-block.progress-2 li:nth-child(2),

	.order-detail .order-block.progress-3 li:nth-child(2),

	.order-detail .order-block.progress-4 li:nth-child(2),

	.order-detail .order-block.progress-5 li:nth-child(2) {

		color: #fff;

	}



	.order-detail .order-block.progress-3 li:nth-child(3),

	.order-detail .order-block.progress-4 li:nth-child(3),

	.order-detail .order-block.progress-5 li:nth-child(3) {

		color: #fff;

	}



	.order-detail .order-block.progress-4 li:nth-child(4),

	.order-detail .order-block.progress-5 li:nth-child(4) {

		color: #fff;

	}



	.order-detail .td__order-price {

		width: 200px;

		display: inline-block;

	}



	.order-head {

		width: 100%;

		padding: 12px 20px;

		margin-top: 60px;

		/* margin-bottom: 20px; */

		/* border-bottom: 1px solid #eef1f5; */

	}



	.order-head:not(:first-child) {

		margin-top: 0;

	}



	.order-head .title {

		position: relative;

		font-size: 1.5rem;

		color: #333;

	}



	.order-head .title::before {

		content: '';

		position: absolute;

		width: 4px;

		height: 14px;

		background: #18bc9c;

		top: 4px;

		left: -12px;

	}



	.table-responsive .table>tbody>tr>td {

		text-align: center;

		vertical-align: middle;

		color: #676767;

	}



	.ordertext {

		margin: 0 30px;

	}



	.table-bordered {

		border: 1px solid #e8edf0;

	}



	.table-bordered>thead>tr>th,

	.table-bordered>tbody>tr>th,

	.table-bordered>tfoot>tr>th,

	.table-bordered>thead>tr>td,

	.table-bordered>tbody>tr>td,

	.table-bordered>tfoot>tr>td {

		border: 1px solid #e8edf0;

	}



	.table thead tr {

		background: #f8f9fb;

	}



	.order_price span {

		width: 70px;

		display: inline-block;

		text-align: right;

	}
	
	.table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td, .table > tbody > tr > td, .table > tfoot > tr > td {
        padding: 0px;
    }
    
    .panel-body {
        padding: 0px;
    }
    .order-detail .order-block {
        padding-left: 0px;
    }
    .order-detail .order-block .tip {
            line-height: 13px;
    }
    .ordertext {
        margin: 0 0px;
    }

</style>
<form id="edit-form" role="form" data-toggle="validator" method="POST" action="">
<div class="order-detail">

	<ul class="order-block progress-{$row.state}">

		<li>

			<span>下單時間</span>

			<div class="tip">{$row.createtime?datetime($row.createtime):''}</div>

		</li>

		<li>

			<span>付款</span>

			<div class="tip">{$row.paymenttime?datetime($row.paymenttime):''}</div>

		</li>

		<li>

			<span>發貨</span>

			<div class="tip">{$row.delivertime?datetime($row.delivertime):''}</div>

		</li>

		<li>

			<span>收貨</span>

			<div class="tip">{$row.taketime?datetime($row.taketime):''}</div>

		</li>

		<li>

			<span>完成</span>

			<div class="tip">{$row.dealtime?datetime($row.dealtime):''}</div>

		</li>

	</ul>

</div>

<div class="row">

	<div class="col-md-12">

		<div class="panel panel-default">

			<div class="panel-heading">商品資訊</div>

			<div class="panel-body">

				<p><span>訂單號：</span><small>{$row.order_no}</small> <span style="margin-left: 30px;">買家：</span><small>{$row.user.nickname}</small><strong></strong></p>

				<table class="table table-bordered">

					<thead>

						<tr>

							<th class="text-center">

								<div class="th-inner">商品編碼</div>

							</th>

							<th class="text-center">

								<div class="th-inner">主圖</div>

							</th>

							<th class="text-center">

								<div class="th-inner">商品名稱</div>

							</th>

							<th class="text-center">

								<div class="th-inner">購買規格</div>

							</th>

							<th class="text-center">

								<div class="th-inner">數量</div>

							</th>

							<th class="text-center">

								<div class="th-inner">單價</div>

							</th>

							<!-- <th class="text-center">

								<div class="th-inner">總價</div>

							</th> -->

							<!-- <th class="text-center">

								<div class="th-inner">運費</div>

							</th>

							<th class="text-center">

								<div class="th-inner">優惠</div>

							</th> -->

						</tr>

					</thead>

					<tbody>

						{volist name="row.ordergoods" id="vo"}

						<tr>

							<td>{$vo.goods_sku_sn}</td>

							<td><a href="javascript:"><img class="img-sm img-center" src="{$vo.image|cdnurl|htmlentities}"></a></td>

							<td><strong>{$vo.title}</strong></td>

							<td>{$vo.difference}</td>

							<td>{$vo.number}</td>

							<td>{$vo.price}</td>

							<!-- <td>{$vo.price * $vo.number}</td> -->

							<!-- <td>{$vo.freight_price}</td> -->

							<!-- <td>{$vo.discount_price}</td> -->

						</tr>

						{/volist}

					</tbody>

					<tfoot>

						<tr>

							<th colspan="9" style="text-align: right;">

								<span class="ordertext">運費（{switch name="row.freight_type"}

								{case value="0"}運費疊加{/case}

								{case value="1"}以最低結算{/case} 

								{case value="2"}以最高結算{/case} 

								{/switch}）：<samp class="text-red">$ {$row.pay.freight_price}</samp> </span>

								<span class="ordertext">優惠金額：<samp class="text-red">$ {$row.pay.discount_price}</samp> </span>

								<span class="ordertext">實際支付：<samp class="text-red">$ {$row.pay.price}</samp></span>

							</th>

						</tr>

					</tfoot>

				</table>

				<div style="color: #333;">

					

					<p style="margin-bottom: 15px;">支付方式：

						{switch name="row.pay.pay_type"}

							{case value="0"}<span class="label label-info">{$row.pay.pay_type_text|htmlentities}</span>{/case}

							{case value="1"}<span class="label label-warning">{$row.pay.pay_type_text|htmlentities}</span>{/case}

						    {case value="2"}<span class="label label-primary">{$row.pay.pay_type_text|htmlentities}</span>{/case}

							{case value="3"}<span class="label label-success">{$row.pay.pay_type_text|htmlentities}</span>{/case}

							{case value="4"}<span class="label label-success">{$row.pay.pay_type_text|htmlentities}</span>{/case}

							{case value="5"}<span class="label label-danger">{$row.pay.pay_type_text|htmlentities}</span>{/case}

							{case value="6"}<span class="label label-warning">{$row.pay.pay_type_text|htmlentities}</span>{/case}

						{/switch}

					</p>

					<p style="margin-bottom: 15px;">交易狀態：

						{switch name="row.state"}

							{case value="0"}<span class="label label-info">{$row.state_text|htmlentities}</span>{/case}

							{case value="1"}<span class="label label-warning">{$row.state_text|htmlentities}</span>{/case}

						    {case value="2"}<span class="label label-primary">{$row.state_text|htmlentities}</span>{/case}

							{case value="3"}<span class="label label-success">{$row.state_text|htmlentities}</span>{/case}

							{case value="4"}<span class="label label-success">{$row.state_text|htmlentities}</span>{/case}

							{case value="5"}<span class="label label-danger">{$row.state_text|htmlentities}</span>{/case}

							{case value="6"}<span class="label label-warning">{$row.state_text|htmlentities}</span>{/case}

						{/switch}

					</p>

					{neq name="row.coupon_id" value="0"}

						<p>優惠折扣：{$row.coupon.name}

						</p>

					{/neq}

					<p>配送方式：<small>{$row.express_name ?: '未發貨'}</small></p>

					{notempty name="row.remarks"}

						<p>買家留言：{$row.remarks}</small></p>

					{/notempty}

				</div>

			</div>

		</div>

	</div>

	

	<label class="control-label col-sm-2" style="color:red;font-size:22px;">實際支付：<input id="c-editprice" class="form-control" name="editprice" type="number" placeholder="請輸入實際支付價格" /></label>
    <p> </p>

</div>











<div class="hide layer-footer">

	<label class="control-label col-xs-12 col-sm-2"></label>

	<div class="col-xs-12 col-sm-8">
	    
	    <button type="submit" class="btn btn-success btn-embossed disabled">{:__('OK')}修改</button>

		<button type="reset" class="btn btn-primary btn-embossed btn-close" onclick="Layer.closeAll();">{:__('Close')}</button>

	</div>

</div>
</form>